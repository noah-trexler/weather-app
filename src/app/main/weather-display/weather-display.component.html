<main>
  <div class="error" *ngIf="error !== ''">
    <p>{{ error }}</p>
  </div>

  <div class="loading-bar" *ngIf="loading">
    <p><em>Loading weather data...</em></p>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>

  <div class="user-location">
    <h3 *ngIf="location !== null">
      Weekly forecast for <em>{{ location.city }}, {{ location.state }}:</em>
    </h3>

    <section class="center panel-container" *ngIf="forecast.length > 0">
      <app-weather-panel
        *ngFor="let f of forecast"
        [forecast]="f"
      ></app-weather-panel>
    </section>
  </div>

  <div class="no-user-location">
    <section *ngIf="forecast.length === 0 && !this.loading">
      <app-location-display
        (loadingGeocode)="loading = true"
      ></app-location-display>
    </section>
  </div>
</main>
